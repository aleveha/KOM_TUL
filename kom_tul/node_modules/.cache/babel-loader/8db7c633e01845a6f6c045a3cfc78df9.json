{"ast":null,"code":"var _jsxFileName = \"/Users/aleveha/WebstormProjects/KOM_TUL/kom_tul/src/components/MainContent/ActualNews.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useContext, useEffect, useState } from \"react\";\nimport LanguageContext from \"../../Context/LanguageContext\";\nimport moment from \"moment\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle } from \"@material-ui/core\";\n\nconst ActualNews = () => {\n  _s();\n\n  const [news, setNews] = useState(null);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const language = useContext(LanguageContext);\n\n  const handleDialogOpen = () => {\n    setDialogOpen(!dialogOpen);\n  };\n\n  useEffect(() => {\n    getNews();\n  }, []);\n\n  const getNews = () => {\n    fetch('http://localhost:3000/topNews').then(response => {\n      return response.json();\n    }).then(data => {\n      setNews(data.map(row => {\n        return {\n          id: row.id,\n          date: moment(row.date).format('DD.MM.YYYY'),\n          name: row.name,\n          content: `${row.content}. ${row.content}. ${row.content}. ${row.content}.`\n        };\n      }));\n    });\n  };\n\n  return news !== null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"actualNews padding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, language.value === 'CZ' ? \"Novinky\" : \"Actual news\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsBlocks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, news.map(elem => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"paper border newsBlock\",\n    key: news.indexOf(elem),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 33\n    }\n  }, elem.date), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"bluePar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 33\n    }\n  }, elem.name), elem.content.split(\".\").length - 1 > 2 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 41\n    }\n  }, elem.content.split(\".\", 2).map(sentence => /*#__PURE__*/React.createElement(\"span\", {\n    key: elem.content.indexOf(sentence),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 45\n    }\n  }, \" \", sentence, \".\")), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 43\n    }\n  }, \"..\")), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleDialogOpen,\n    variant: \"contained\",\n    style: {\n      margin: \"0.5rem\",\n      color: \"var(--blue)\"\n    },\n    color: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 41\n    }\n  }, \"Vice info\")) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 37\n    }\n  }, elem.content)), /*#__PURE__*/React.createElement(Dialog, {\n    open: dialogOpen,\n    onClose: handleDialogOpen,\n    className: \"dialog newsDialog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  }, elem.name), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 37\n    }\n  }, elem.content), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 37\n    }\n  }, elem.date)), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleDialogOpen,\n    variant: \"contained\",\n    style: {\n      margin: \"0.5rem\",\n      color: \"var(--blue)\"\n    },\n    color: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 37\n    }\n  }, \"Zav\\u0159\\xEDt\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"allNews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    style: {\n      margin: \"1rem auto\",\n      color: \"var(--blue)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, \"V\\u0161echny novinky\"))) : null;\n};\n\n_s(ActualNews, \"HrNvzd57aXRnlHl65JqPWbWlMU8=\");\n\n_c = ActualNews;\nexport default ActualNews;\n\nvar _c;\n\n$RefreshReg$(_c, \"ActualNews\");","map":{"version":3,"sources":["/Users/aleveha/WebstormProjects/KOM_TUL/kom_tul/src/components/MainContent/ActualNews.tsx"],"names":["React","useContext","useEffect","useState","LanguageContext","moment","Button","Dialog","DialogActions","DialogContent","DialogTitle","ActualNews","news","setNews","dialogOpen","setDialogOpen","language","handleDialogOpen","getNews","fetch","then","response","json","data","map","row","id","date","format","name","content","value","elem","indexOf","split","length","sentence","margin","color"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {useContext, useEffect, useState} from \"react\";\nimport LanguageContext from \"../../Context/LanguageContext\";\nimport moment from \"moment\";\nimport {Button, Dialog, DialogActions, DialogContent, DialogTitle, Paper} from \"@material-ui/core\";\n\ninterface INews {\n    id: number,\n    date: string,\n    name: string,\n    content: string\n}\n\nconst ActualNews = () => {\n    const [news, setNews] = useState<Array<INews> | null>(null);\n    const [dialogOpen, setDialogOpen] = useState<boolean>(false);\n    const language = useContext(LanguageContext);\n\n    const handleDialogOpen = () => {\n        setDialogOpen(!dialogOpen);\n    }\n\n    useEffect(() => {\n        getNews();\n    }, []);\n\n    const getNews = () => {\n        fetch('http://localhost:3000/topNews')\n            .then(response => {\n                return response.json();\n            })\n            .then(data => {\n                setNews(\n                    data.map((row: INews) => {\n                        return {\n                            id: row.id,\n                            date: moment(row.date).format('DD.MM.YYYY'),\n                            name: row.name,\n                            content: `${row.content}. ${row.content}. ${row.content}. ${row.content}.`\n                        }\n                    })\n                );\n            })\n    }\n\n    return (\n        news !== null ? (\n            <div className=\"actualNews padding\">\n                <h1>{language.value === 'CZ' ? \"Novinky\" : \"Actual news\"}</h1>\n                <div className=\"newsBlocks\">\n                    {news.map(elem =>\n                        <div\n                            className=\"paper border newsBlock\"\n                            key={news.indexOf(elem)}\n                        >\n                            <div>\n                                <p>{elem.date}</p>\n                                <h3 className=\"bluePar\">{elem.name}</h3>\n                                {elem.content.split(\".\").length - 1 > 2 ?\n                                    <div>\n                                        <p>{elem.content.split(\".\", 2).map(sentence =>\n                                            <span key={elem.content.indexOf(sentence)}> {sentence}.</span>\n                                        )}<span>..</span></p>\n                                        <Button\n                                            onClick={handleDialogOpen}\n                                            variant=\"contained\"\n                                            style={{margin: \"0.5rem\", color: \"var(--blue)\"}}\n                                            color=\"default\"\n                                        >Vice info</Button>\n                                    </div> :\n                                    <p>{elem.content}</p>\n                                }\n\n                            </div>\n                            <Dialog open={dialogOpen} onClose={handleDialogOpen} className=\"dialog newsDialog\">\n                                <DialogTitle>{elem.name}</DialogTitle>\n                                <DialogContent>\n                                    <p>{elem.content}</p>\n                                    <p>{elem.date}</p>\n                                </DialogContent>\n                                <DialogActions>\n                                    <Button\n                                        onClick={handleDialogOpen}\n                                        variant=\"contained\"\n                                        style={{margin: \"0.5rem\", color: \"var(--blue)\"}}\n                                        color=\"default\"\n                                    >Zavřít</Button>\n                                </DialogActions>\n                            </Dialog>\n                        </div>\n                    )}\n                </div>\n                <div className=\"allNews\">\n                    <Button\n                        variant=\"contained\"\n                        style={{margin: \"1rem auto\", color: \"var(--blue)\"}}\n                    >Všechny novinky</Button>\n                </div>\n            </div>\n        ) : null\n    );\n};\n\nexport default ActualNews;"]},"metadata":{},"sourceType":"module"}