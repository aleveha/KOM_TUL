{"ast":null,"code":"var _jsxFileName = \"/Users/aleveha/WebstormProjects/KOM_TUL/kom_tul/src/components/MainContent/ActualNews.tsx\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport { useContext, useEffect, useState } from \"react\";\nimport LanguageContext from \"../../Context/LanguageContext\";\nimport moment from \"moment\";\n\nconst ActualNews = () => {\n  _s();\n\n  const [news, setNews] = useState(null);\n  const language = useContext(LanguageContext);\n  useEffect(() => {\n    getNews();\n  }, []);\n  useEffect(() => {\n    let number = 3;\n\n    if (news !== null) {\n      news.length % 2 === 0 && (number = 2);\n    }\n  }, [news]);\n\n  const getNews = () => {\n    fetch('http://localhost:3000/news').then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      const news = data.map(row => {\n        return {\n          id: row.id,\n          date: moment(row.date).format('DD.MM.YYYY'),\n          name: row.name,\n          content: row.content\n        };\n      });\n      setNews(news);\n    });\n  };\n\n  return news !== null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"actualNews padding\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"newsHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, language.value === 'CZ' ? \"Novinky\" : \"Actual news\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsBlocks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, news.map(elem => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsBlock\",\n    key: news.indexOf(elem),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsBlockContentLink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsBlockContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dateOfPublication\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 41\n    }\n  }, elem.date.replace(/-/g, '.'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 41\n    }\n  }, elem.name))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"allNews\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"allNewsButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, language.value === 'CZ' ? \"Všechny novinky\" : \"All news\"))))) : null;\n};\n\n_s(ActualNews, \"+gq0h405hhhe/4SX+hCLDZinJoQ=\");\n\n_c = ActualNews;\nexport default ActualNews;\n\nvar _c;\n\n$RefreshReg$(_c, \"ActualNews\");","map":{"version":3,"sources":["/Users/aleveha/WebstormProjects/KOM_TUL/kom_tul/src/components/MainContent/ActualNews.tsx"],"names":["React","useContext","useEffect","useState","LanguageContext","moment","ActualNews","news","setNews","language","getNews","number","length","fetch","then","response","json","data","console","log","map","row","id","date","format","name","content","value","elem","indexOf","replace"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {useContext, useEffect, useState} from \"react\";\nimport LanguageContext from \"../../Context/LanguageContext\";\nimport moment from \"moment\";\n\ninterface INews {\n    id: number,\n    date: string,\n    name: string,\n    content: string\n}\n\nconst ActualNews = () => {\n    const [news, setNews] = useState<Array<INews> | null>(null);\n    const language = useContext(LanguageContext);\n\n    useEffect(() => {\n        getNews();\n    }, []);\n\n    useEffect(() => {\n        let number = 3;\n        if (news !== null) {\n            news.length % 2 === 0 && (number = 2);\n        }\n    }, [news]);\n\n    const getNews = () => {\n        fetch('http://localhost:3000/news')\n            .then(response => {\n                return response.json();\n            })\n            .then(data => {\n                console.log(data);\n                const news: INews[] = data.map((row: INews) => {\n                    return {\n                        id: row.id,\n                        date: moment(row.date).format('DD.MM.YYYY'),\n                        name: row.name,\n                        content: row.content\n                    }\n                });\n                setNews(news);\n            })\n    }\n\n    return (\n        news !== null ? (\n            <div className=\"actualNews padding\">\n                <h1 className=\"newsHeader\">{language.value === 'CZ' ? \"Novinky\" : \"Actual news\"}</h1>\n                <div className=\"newsBlocks\">\n                    {news.map(elem =>\n                        <div className=\"newsBlock\" key={news.indexOf(elem)}>\n                            <div className=\"newsBlockContentLink\">\n                                <div className=\"newsBlockContent\">\n                                    <div className=\"dateOfPublication\">\n                                        <p>{elem.date.replace(/-/g, '.')}</p>\n                                    </div>\n                                    <div className=\"newsName\">\n                                        <h3>{elem.name}</h3>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n                <div className=\"allNews\">\n                    <div className=\"allNewsButton\">\n                        <div>\n                            <span>{language.value === 'CZ' ? \"Všechny novinky\" : \"All news\"}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ) : null\n    );\n};\n\nexport default ActualNews;"]},"metadata":{},"sourceType":"module"}