{"ast":null,"code":"import _slicedToArray from\"/Users/aleveha/WebstormProjects/KOM_TUL/kom_tul/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"/Users/aleveha/WebstormProjects/KOM_TUL/kom_tul/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _createForOfIteratorHelper from\"/Users/aleveha/WebstormProjects/KOM_TUL/kom_tul/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import*as React from'react';import{useEffect,useState}from'react';import Header from\"./components/Header/Header\";import MainContent from\"./components/MainContent/MainContent\";import Footer from\"./components/Footer/Footer\";import LanguageContext from\"./Context/LanguageContext\";import PathContext from\"./Context/PathContext\";import AppContentContext from\"./Context/AppContentContext\";import{useLocation}from'react-router-dom';import{ToastContainer}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import'./CSS/App.css';var appContent=[{name:'KOM',link:'/home'},{name:'Katedra',link:'/department'},{name:'Pracovníci',link:'/employees'},{name:'Projekty',link:'/projects'},{name:'Výuka',link:'/education'},{name:'Laboratoře',link:'/laboratories'},{name:'Spolupráce',link:'/cooperation'}];var vh=window.innerHeight*0.01;document.documentElement.style.setProperty('--vh',\"\".concat(vh,\"px\"));window.addEventListener('resize',function(){vh=window.innerHeight*0.01;document.documentElement.style.setProperty('--vh',\"\".concat(vh,\"px\"));});var App=function App(){var location=useLocation();useEffect(function(){setPathWay(MakePathObject());},[location]);var MakePathObject=function MakePathObject(){var tempObj=[].concat(appContent);var tempArr=[];var erase=true;var pathArr=location.pathname.split(\"/\");pathArr.splice(0,1);pathArr.forEach(function(linkPart){if(linkPart!==\"\"){var _iterator=_createForOfIteratorHelper(tempObj),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var element=_step.value;if(element.link===\"/\"+linkPart){if(erase){tempArr.length=0;erase=false;!location.pathname.includes(\"home\")&&tempArr.push({name:\"KOM\",path:\"/home\"});}tempArr.push({name:element.name,path:element.link});element.children&&(tempObj=_toConsumableArray(element.children));break;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}}else if(linkPart===\"\"&&pathArr.length===1){tempArr.push({name:\"KOM\",path:\"/home\"});}});return tempArr;};var _useState=useState('CZ'),_useState2=_slicedToArray(_useState,2),appLanguage=_useState2[0],setWebLanguage=_useState2[1];var _useState3=useState(MakePathObject),_useState4=_slicedToArray(_useState3,2),pathWay=_useState4[0],setPathWay=_useState4[1];var ChangeLanguage=function ChangeLanguage(value){setWebLanguage(value);};var ChangePathWay=function ChangePathWay(){setPathWay(MakePathObject);};useEffect(function(){console.log('System language '+appLanguage);},[appLanguage]);return/*#__PURE__*/React.createElement(LanguageContext.Provider,{value:{value:appLanguage,changeValue:ChangeLanguage}},/*#__PURE__*/React.createElement(PathContext.Provider,{value:{value:pathWay,changeValue:ChangePathWay}},/*#__PURE__*/React.createElement(AppContentContext.Provider,{value:{value:appContent}},/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"div\",{className:\"WebContent\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(MainContent,null)),/*#__PURE__*/React.createElement(Footer,null)),/*#__PURE__*/React.createElement(ToastContainer,null))));};export default App;","map":{"version":3,"sources":["/Users/aleveha/WebstormProjects/KOM_TUL/kom_tul/src/App.tsx"],"names":["React","useEffect","useState","Header","MainContent","Footer","LanguageContext","PathContext","AppContentContext","useLocation","ToastContainer","appContent","name","link","vh","window","innerHeight","document","documentElement","style","setProperty","addEventListener","App","location","setPathWay","MakePathObject","tempObj","tempArr","erase","pathArr","pathname","split","splice","forEach","linkPart","element","length","includes","push","path","children","appLanguage","setWebLanguage","pathWay","ChangeLanguage","value","ChangePathWay","console","log","changeValue"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport Header from \"./components/Header/Header\";\nimport MainContent from \"./components/MainContent/MainContent\";\nimport Footer from \"./components/Footer/Footer\";\nimport LanguageContext from \"./Context/LanguageContext\";\nimport PathContext from \"./Context/PathContext\";\nimport AppContentContext from \"./Context/AppContentContext\";\nimport {useLocation} from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './CSS/App.css';\n\ninterface IAppContent {\n    name: string,\n    link: string,\n    children?: Array<IAppContent>\n}\n\ninterface IPath {\n    name: string,\n    path: string\n}\n\nconst appContent: Array<IAppContent> = [\n    {\n        name: 'KOM',\n        link: '/home'\n    },\n    {\n        name: 'Katedra',\n        link: '/department'\n    },\n    {\n        name: 'Pracovníci',\n        link: '/employees'\n    },\n    {\n        name: 'Projekty',\n        link: '/projects'\n    },\n    {\n        name: 'Výuka',\n        link: '/education'\n    },\n    {\n        name: 'Laboratoře',\n        link: '/laboratories'\n    },\n    {\n        name: 'Spolupráce',\n        link: '/cooperation'\n    }\n];\n\nlet vh = window.innerHeight * 0.01;\ndocument.documentElement.style.setProperty('--vh', `${vh}px`);\n\nwindow.addEventListener('resize', () => {\n    vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n})\n\nconst App = () => {\n    let location = useLocation();\n\n    useEffect(() => {\n        setPathWay(MakePathObject());\n    }, [location]);\n\n    const MakePathObject = () => {\n        let tempObj: Array<IAppContent> = [...appContent];\n        let tempArr: Array<IPath> = [];\n        let erase = true;\n        const pathArr = location.pathname.split(\"/\");\n        pathArr.splice(0, 1);\n        pathArr.forEach(linkPart => {\n            if (linkPart !== \"\") {\n                for (let element of tempObj) {\n                    if (element.link === \"/\" + linkPart) {\n                        if (erase) {\n                            tempArr.length = 0;\n                            erase = false;\n                            !location.pathname.includes(\"home\") && tempArr.push({name: \"KOM\", path: \"/home\"});\n                        }\n                        tempArr.push({name: element.name, path: element.link});\n                        element.children && (tempObj = [...element.children]);\n                        break;\n                    }\n                }\n            } else if (linkPart === \"\" && pathArr.length === 1) {\n                tempArr.push({name: \"KOM\", path: \"/home\"});\n            }\n        });\n        return tempArr;\n    };\n\n    const [appLanguage, setWebLanguage] = useState<string>('CZ');\n    const [pathWay, setPathWay] = useState<Array<IPath>>(MakePathObject);\n\n    const ChangeLanguage = (value: string) => {\n        setWebLanguage(value);\n    }\n\n    const ChangePathWay = () => {\n        setPathWay(MakePathObject);\n    }\n\n    useEffect(() => {\n        console.log('System language ' + appLanguage)\n    }, [appLanguage]);\n\n    return (\n        <LanguageContext.Provider value={{value: appLanguage, changeValue: ChangeLanguage}}>\n            <PathContext.Provider value={{value: pathWay, changeValue: ChangePathWay}}>\n                <AppContentContext.Provider value={{value: appContent}}>\n                    <div className=\"App\">\n                        <div className=\"WebContent\">\n                            <Header/>\n                            <MainContent />\n                        </div>\n                        <Footer/>\n                    </div>\n                    <ToastContainer />\n                </AppContentContext.Provider>\n            </PathContext.Provider>\n        </LanguageContext.Provider>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}