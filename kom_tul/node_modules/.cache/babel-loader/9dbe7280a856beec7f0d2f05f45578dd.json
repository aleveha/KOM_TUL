{"ast":null,"code":"var _jsxFileName = \"/Users/aleveha/WebstormProjects/KOM_TUL/kom_tul/src/components/Common/News.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, CircularProgress, Dialog, DialogActions, DialogContent, DialogTitle, Divider } from \"@material-ui/core\";\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport { toast } from \"react-toastify\";\n\nconst News = props => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"newsBlocks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, props.isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      margin: \"2rem 0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 50,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  })) : props.news.map((elem, index) => /*#__PURE__*/React.createElement(SeparateNews, {\n    elem: elem,\n    key: elem.id ? elem.id : index,\n    isLogged: props.isLogged,\n    getAllNews: props.getAllNews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  })));\n};\n\n_c = News;\n\nconst SeparateNews = props => {\n  _s();\n\n  const {\n    elem\n  } = props;\n  const [dialogOpen, setDialogOpen] = useState(false);\n\n  const handleDialogOpen = () => {\n    setDialogOpen(!dialogOpen);\n  };\n\n  const handleDeleteNews = value => {\n    return new Promise(resolve => {\n      fetch('http://localhost:3000/deleteNews', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: value.id,\n          name: value.name\n        })\n      }).then(response => response.json()).then(data => resolve(data));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"paper border newsBlock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, elem.date), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"bluePar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, elem.name), elem.content.split(\" \").length - 1 > 10 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, elem.content.split(\" \", 10).map((word, index) => /*#__PURE__*/React.createElement(\"span\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, \" \", word)), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 27\n    }\n  }, \"...\")), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleDialogOpen,\n    variant: \"contained\",\n    style: {\n      margin: \"1rem auto\",\n      color: \"var(--blue)\"\n    },\n    color: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, \"Vice info\")) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, elem.content), props.isLogged ? /*#__PURE__*/React.createElement(DeleteButton, {\n    elem: elem,\n    handleDeleteNews: handleDeleteNews,\n    getAllNews: props.getAllNews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }) : null), /*#__PURE__*/React.createElement(Dialog, {\n    open: dialogOpen,\n    onClose: handleDialogOpen,\n    className: \"dialog newsDialog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, elem.name), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(DialogContent, {\n    className: \"newsDialogContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, elem.content), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, elem.date), props.isLogged ? /*#__PURE__*/React.createElement(DeleteButton, {\n    elem: elem,\n    handleDeleteNews: handleDeleteNews,\n    getAllNews: props.getAllNews,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }) : null), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleDialogOpen,\n    variant: \"contained\",\n    style: {\n      margin: \"0.5rem\",\n      color: \"var(--blue)\"\n    },\n    color: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, \"Zav\\u0159\\xEDt\"))));\n};\n\n_s(SeparateNews, \"b79sV4Ur295qa8CEsXVhtHGdgXA=\");\n\n_c2 = SeparateNews;\n\nconst DeleteButton = props => {\n  _s2();\n\n  const [openDialog, setOpenDialog] = useState(false);\n\n  const handleDialog = () => setOpenDialog(!openDialog);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"deleteButtonContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      backgroundColor: \"white\",\n      color: \"var(--fiolet)\"\n    },\n    onClick: handleDialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DeleteForeverIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Dialog, {\n    open: openDialog,\n    onClose: handleDialog,\n    className: \"dialog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, \"Chcete vymazat novinku?\"), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    style: {\n      color: \"var(--blue)\"\n    },\n    onClick: () => {\n      props.handleDeleteNews(props.elem).then(res => {\n        if (typeof res === \"boolean\") toast.success(\"Vyhazeno\");else toast.error(\"Neco se nepovedlo!\");\n        props.getAllNews !== undefined && props.getAllNews();\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }, \"Ano\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    style: {\n      backgroundColor: \"var(--fiolet)\",\n      color: \"white\"\n    },\n    onClick: handleDialog,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, \"Ne\"))));\n};\n\n_s2(DeleteButton, \"qBJwbsUaCsyhGLWxsLm4NKdSDmo=\");\n\n_c3 = DeleteButton;\nexport default News;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"News\");\n$RefreshReg$(_c2, \"SeparateNews\");\n$RefreshReg$(_c3, \"DeleteButton\");","map":{"version":3,"sources":["/Users/aleveha/WebstormProjects/KOM_TUL/kom_tul/src/components/Common/News.tsx"],"names":["React","useState","Button","CircularProgress","Dialog","DialogActions","DialogContent","DialogTitle","Divider","DeleteForeverIcon","toast","News","props","isLoading","display","justifyContent","alignItems","margin","news","map","elem","index","id","isLogged","getAllNews","SeparateNews","dialogOpen","setDialogOpen","handleDialogOpen","handleDeleteNews","value","Promise","resolve","fetch","method","headers","body","JSON","stringify","name","then","response","json","data","date","content","split","length","word","color","DeleteButton","openDialog","setOpenDialog","handleDialog","backgroundColor","res","success","error","undefined"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider\n} from \"@material-ui/core\";\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport {toast} from \"react-toastify\";\n\nexport interface INews {\n    id?: number,\n    date: string,\n    name: string,\n    content: string\n}\n\nconst News = (props: {\n    news: INews[],\n    isLoading: boolean,\n    isLogged?: boolean,\n    getAllNews?: () => void\n}) => {\n    return (\n        <div className=\"newsBlocks\">\n            {props.isLoading ?\n                <div style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    margin: \"2rem 0\"\n                }}>\n                    <CircularProgress size={50}/>\n                </div> :\n                props.news.map((elem, index) =>\n                    <SeparateNews\n                        elem={elem}\n                        key={elem.id ? elem.id : index}\n                        isLogged={props.isLogged}\n                        getAllNews={props.getAllNews}\n                    />\n                )}\n        </div>\n    );\n};\n\nconst SeparateNews = (props: {\n    elem: INews,\n    isLogged: boolean | undefined,\n    getAllNews?: () => void\n}) => {\n    const {elem} = props;\n    const [dialogOpen, setDialogOpen] = useState<boolean>(false);\n\n    const handleDialogOpen = () => {\n        setDialogOpen(!dialogOpen);\n    }\n\n    const handleDeleteNews = (value: INews) => {\n        return new Promise(resolve => {\n            fetch('http://localhost:3000/deleteNews', {\n                method: \"POST\",\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({id: value.id, name: value.name}),\n            })\n                .then(response => response.json())\n                .then(data => resolve(data));\n        })\n    }\n\n    return (\n        <div\n            className=\"paper border newsBlock\"\n        >\n            <div>\n                <p>{elem.date}</p>\n                <h3 className=\"bluePar\">{elem.name}</h3>\n                {elem.content.split(\" \").length - 1 > 10 ?\n                    <div>\n                        <p>{elem.content.split(\" \", 10).map((word, index) =>\n                            <span key={index}> {word}</span>\n                        )}<span>...</span></p>\n                        <Button\n                            onClick={handleDialogOpen}\n                            variant=\"contained\"\n                            style={{margin: \"1rem auto\", color: \"var(--blue)\"}}\n                            color=\"default\"\n                        >Vice info</Button>\n                    </div> :\n                    <p>{elem.content}</p>}\n                {props.isLogged ?\n                    <DeleteButton\n                        elem={elem}\n                        handleDeleteNews={handleDeleteNews}\n                        getAllNews={props.getAllNews}\n                    /> : null}\n            </div>\n            <Dialog open={dialogOpen} onClose={handleDialogOpen} className=\"dialog newsDialog\">\n                <DialogTitle>{elem.name}</DialogTitle>\n                <Divider/>\n                <DialogContent className=\"newsDialogContent\">\n                    <p>{elem.content}</p>\n                    <p>{elem.date}</p>\n                    {props.isLogged ?\n                        <DeleteButton\n                            elem={elem}\n                            handleDeleteNews={handleDeleteNews}\n                            getAllNews={props.getAllNews}\n                        /> : null}\n                </DialogContent>\n                <Divider/>\n                <DialogActions>\n                    <Button\n                        onClick={handleDialogOpen}\n                        variant=\"contained\"\n                        style={{margin: \"0.5rem\", color: \"var(--blue)\"}}\n                        color=\"default\"\n                    >Zavřít</Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nconst DeleteButton = (props: {\n    elem: INews,\n    handleDeleteNews: (value: INews) => Promise<any>,\n    getAllNews?: () => void\n}) => {\n    const [openDialog, setOpenDialog] = useState<boolean>(false);\n\n    const handleDialog = () => setOpenDialog(!openDialog);\n\n    return (\n        <div className=\"deleteButtonContainer\">\n            <Button\n                style={{backgroundColor: \"white\", color: \"var(--fiolet)\"}}\n                onClick={handleDialog}\n            >\n                <DeleteForeverIcon fontSize=\"small\"/>\n            </Button>\n            <Dialog\n                open={openDialog}\n                onClose={handleDialog}\n                className=\"dialog\"\n            >\n                <DialogTitle>Chcete vymazat novinku?</DialogTitle>\n                <DialogActions>\n                    <Button\n                        variant=\"contained\"\n                        style={{color: \"var(--blue)\"}}\n                        onClick={() => {\n                            props.handleDeleteNews(props.elem)\n                                .then((res) => {\n                                    if (typeof res === \"boolean\")\n                                        toast.success(\"Vyhazeno\");\n                                    else\n                                        toast.error(\"Neco se nepovedlo!\")\n\n                                    props.getAllNews !== undefined && props.getAllNews();\n                                })\n                        }}\n                    >Ano</Button>\n                    <Button\n                        variant=\"contained\"\n                        style={{backgroundColor: \"var(--fiolet)\", color: \"white\"}}\n                        onClick={handleDialog}\n                    >Ne</Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default News;"]},"metadata":{},"sourceType":"module"}